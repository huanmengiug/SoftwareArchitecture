# take

## 实验1

### **（1）在某绘图软件中提供了多种大小不同的画笔(Pen)，并且可以给画笔指定不同颜色，某设计人员针对画笔的结构设计了如下类图：<br> [![Pen](https://s1.328888.xyz/2022/09/05/1JL8h.png)](https://imgloc.com/i/1JL8h) <br> 通过仔细分析，设计人员发现该类图存在非常严重的问题，如果需要增加一种新的大小的笔或者增加一种新的颜色，都需要增加很多子类，如增加一种绿色，则对应每一种大小的笔都需要增加一支绿色笔，系统中类的个数急剧增加。 <br> 试根据依赖倒转原则和合成复用原则对该设计方案进行重构，使得增加新的大小的笔和增加新的颜色都较为方便。**

#### answer

[![Pen](https://s1.328888.xyz/2022/09/05/1JFHp.png)](https://imgloc.com/i/1JFHp)

### **（2）在某图形库API中提供了多种矢量图模板，用户可以基于这些矢量图创建不同的显示图形，图形库设计人员设计的初始类图如下所示：<br> [![图形](https://s1.328888.xyz/2022/09/05/1JNAn.png)](https://imgloc.com/i/1JNAn) <br> 在该图形库中，每个图形类（如Circle、Triangle等）的init()方法用于初始化所创建的图形， setColor()方法用于给图形设置边框颜色，fill()方法用于给图形设置填充颜色，setSize()方法用于设置图形的大小，display()方法用于显示图形。 <br> 客户类(Client)在使用该图形库时发现存在如下问题：**

> 1. *由于在创建窗口时每次只需要使用图形库中的一种图形，因此在更换图形时需要修改客户类源代码；*
> 2. *在图形库中增加并使用新的图形时需要修改客户类源代码；*
> 3. *客户类在每次使用图形对象之前需要先创建图形对象，有些图形的创建过程较为复杂，导致客户类代码冗长且难以维护。*

### **现需要根据面向对象设计原则对该系统进行重构，要求如下：**

> 1. *隔离图形的创建和使用，将图形的创建过程封装在专门的类中，客户类在使用图形时无须直接创建图形对象，甚至不需要关心具体图形类类名；*
> 2. *客户类能够方便地更换图形或使用新增图形，无须针对具体图形类编程，符合开闭原则。*

#### answer

[![图形](https://s1.328888.xyz/2022/09/05/1Ju9F.png)](https://imgloc.com/i/1Ju9F)
